# Build v2 on top of v1 - smart incremental build
FROM kaspamontana/ugc-faceswapper:v1

# Install runpod package
RUN pip3 install --no-cache-dir runpod>=1.3.0

# Replace Flask app with Runpod handler
WORKDIR /app
COPY config.yaml /app/config.yaml
COPY handler.py /app/handler.py

# Update CMD to use handler instead of app.py
CMD ["python3", "/app/handler.py"]
